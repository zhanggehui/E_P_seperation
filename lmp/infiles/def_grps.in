### group definition ########################################################
group gra type 1:4
group go type 1:11
group walls type 16
group water type 12 13

group control_atoms union gra walls
group free_atoms subtract all control_atoms
group control_atoms delete

variable gra_zhi equal bound(gra,zmax)
variable gra_zlo equal bound(gra,zmin)
region up_box block EDGE EDGE EDGE EDGE $(v_gra_zhi) EDGE
region low_box block EDGE EDGE EDGE EDGE EDGE $(v_gra_zlo)

### wall group ###
variable g_atom_v atom grmask(walls,up_box)
group up_wall variable g_atom_v

variable g_atom_v atom grmask(walls,low_box) 
group low_wall variable g_atom_v

### sol group ###
group sol subtract all go walls
variable g_atom_v atom grmask(sol,up_box)
group up_sol variable g_atom_v
group up_sol include molecule

variable g_atom_v atom grmask(sol,low_box)
group low_sol variable g_atom_v
group low_sol include molecule

group mid_sol subtract sol up_sol low_sol
group sol delete
